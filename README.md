# Data-Analysis-ZOMATO
I solved 20 business problems using this dataset and created a comprehensive dashboard to visualize the data, making it easier for others to understand and gain insights.
## Data Overview
This project demonstrates my SQL problem-solving skills through the analysis of data for Zomato, a popular food delivery company in India. The project involves setting up the database, importing data, handling null values, and solving a variety of business problems using complex SQL queries. Also aperformin time series questions.

## Database Setup
```sql
CREATE DATABASE zomato_db;
```

### 1. Dropping Existing Tables
```sql
DROP TABLE IF EXISTS deliveries;
DROP TABLE IF EXISTS Orders;
DROP TABLE IF EXISTS customers;
DROP TABLE IF EXISTS restaurants;
DROP TABLE IF EXISTS riders;

-- 2. Creating Tables
CREATE TABLE restaurants (
    restaurant_id SERIAL PRIMARY KEY,
    restaurant_name VARCHAR(100) NOT NULL,
    city VARCHAR(50),
    opening_hours VARCHAR(50)
);

CREATE TABLE customers (
    customer_id SERIAL PRIMARY KEY,
    customer_name VARCHAR(100) NOT NULL,
    reg_date DATE
);

CREATE TABLE riders (
    rider_id SERIAL PRIMARY KEY,
    rider_name VARCHAR(100) NOT NULL,
    sign_up DATE
);

CREATE TABLE Orders (
    order_id SERIAL PRIMARY KEY,
    customer_id INT,
    restaurant_id INT,
    order_item VARCHAR(255),
    order_date DATE NOT NULL,
    order_time TIME NOT NULL,
    order_status VARCHAR(20) DEFAULT 'Pending',
    total_amount DECIMAL(10, 2) NOT NULL,
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id),
    FOREIGN KEY (restaurant_id) REFERENCES restaurants(restaurant_id)
);

CREATE TABLE deliveries (
    delivery_id SERIAL PRIMARY KEY,
    order_id INT,
    delivery_status VARCHAR(20) DEFAULT 'Pending',
    delivery_time TIME,
    rider_id INT,
    FOREIGN KEY (order_id) REFERENCES Orders(order_id),
    FOREIGN KEY (rider_id) REFERENCES riders(rider_id)
);
```
## Data Cleaning and Handling Null Values

Before performing analysis, I ensured that the data was clean and free from null values where necessary. For instance:

```sql
UPDATE orders
SET total_amount = COALESCE(total_amount, 0);
```

## Time Series Questions
### 2. Popular Time Slots
-- Question: Identify the time slots during which the most orders are placed. based on 2-hour intervals.

**Approach 1:**

```sql
-- Approach 1
SELECT 
	FLOOR(EXTRACT(HOUR FROM order_time)/2)*2 as start_time,
	FLOOR(EXTRACT(HOUR FROM order_time)/2)*2 + 2 as end_time,
	COUNT(*) as total_orders
FROM orders
GROUP BY 1, 2
ORDER BY 3 DESC;
```

## Business Problems
Q.1 Write a query to find the top 5 most frequently ordered dishes by customer called "Arjun Mehta" in the last 1 year.
Q.2 Popular Time Slots - Identify the time slots during which the most orders are placed. based on 2-hour intervals.
Q.3 Order Value Analysis - Find the average order value per customer who has placed more than 750 orders.
Q.4 High-Value Customers - Question: List the customers who have spent more than 100K in total on food orders.
Q.5 Write a query to find orders that were placed but not delivered. 
Q. 6 Restaurant Revenue Ranking - Rank restaurants by their total revenue from the last year, including their name, total revenue, and rank within their city.
Q. 7 Most Popular Dish by City - Identify the most popular dish in each city based on the number of orders.
Q.8 Customer Churn - Find customers who havenâ€™t placed an order in 2024 but did in 2023.
Q.9 Cancellation Rate Comparison - Calculate and compare the order cancellation rate for each restaurant between the current year and the previous year.
Q.10 Rider Average Delivery Time - Determine each rider's average delivery time.
Q.11 Monthly Restaurant Growth Ratio - Calculate each restaurant's growth ratio based on the total number of delivered orders since its joining
Q.12 Customer Segmentation - Customer Segmentation: Segment customers into 'Gold' or 'Silver' groups based on their total spending compared to the average order value (AOV). 
Q.13 Rider Monthly Earnings - Calculate each rider's total monthly earnings, assuming they earn 8% of the order amount.
Q.14 Rider Ratings Analysis - Find the number of 5-star, 4-star, and 3-star ratings each rider has.
Q.15 Order Frequency by Day - Analyze order frequency per day of the week and identify the peak day for each restaurant.
Q.16 Customer Lifetime Value (CLV) - Calculate the total revenue generated by each customer over all their orders.
Q.17 Monthly Sales Trends - Identify sales trends by comparing each month's total sales to the previous month.
Q.18 Rider Efficiency -Evaluate rider efficiency by determining average delivery times and identifying those with the lowest and highest averages.
Q.19 Order Item Popularity - Track the popularity of specific order items over time and identify seasonal demand spikes.
Q.20 Rank each city based on the total revenue for last year 2023.


## Technology Stack
- **Database**: PostgreSQL
- **SQL Queries**: DDL, DML, Aggregations, Joins, Subqueries, Window Functions
- **Tools**: pgAdmin 4 (or any SQL editor), PostgreSQL (via Homebrew, Docker, or direct installation)
